{
  "name": "Node.js",
  "image": "mcr.microsoft.com/devcontainers/javascript-node:1-18-bookworm",
  "features": {
    "ghcr.io/dhoeric/features/hadolint:1": {
      "version": "latest"
    },
    "ghcr.io/devcontainers-contrib/features/apt-packages:1": {
      "packages": [
        "build-essential",
        "ca-certificates",
        "curl",
        "ffmpeg",
        "git",
        "gnupg",
        "htop",
        "less",
        "libappindicator1",
        "libasound2",
        "libatk-bridge2.0-0",
        "libatk1.0-0",
        "libc6",
        "libcairo2",
        "libcups2",
        "libdbus-1-3",
        "libexpat1",
        "libfontconfig1",
        "libgbm1",
        "libgcc1",
        "libgfortran5",
        "libglib2.0-0",
        "libgtk-3-0",
        "libnspr4",
        "libnss3",
        "libpango-1.0-0",
        "libpangocairo-1.0-0",
        "libstdc++6",
        "libx11-6",
        "libx11-xcb1",
        "libxcb1",
        "libxcomposite1",
        "libxcursor1",
        "libxdamage1",
        "libxext6",
        "libxfixes3",
        "libxi6",
        "libxrandr2",
        "libxrender1",
        "libxss1",
        "libxtst6",
        "locales",
        "procps",
        "tzdata",
        "wget",
        "xdg-utils"
      ]
    }
  },
  "onCreateCommand": "sed -i 's@deb.debian.org@repo.huaweicloud.com@g' /etc/apt/sources.list && sed -i 's@security.debian.org@repo.huaweicloud.com@g' /etc/apt/sources.list && apt update",
  "updateContentCommand": "cd server && yarn && cd ../collector && PUPPETEER_DOWNLOAD_BASE_URL=https://storage.googleapis.com/chrome-for-testing-public yarn && cd ../frontend && yarn && cd .. && yarn setup:envs && yarn prisma:setup",
  "portsAttributes": {
    "3001": {
      "label": "Backend",
      "onAutoForward": "notify"
    },
    "3000": {
      "label": "Frontend",
      "onAutoForward": "openPreview",
      "visibility": "public"
    }
  },
  "capAdd": [
    "SYS_ADMIN"
  ],
  "remoteEnv": {
    "NODE_ENV": "development",
    "ESLINT_USE_FLAT_CONFIG": "true",
    "ANYTHING_LLM_RUNTIME": "docker"
  },
  "shutdownAction": "stopContainer",
  "remoteUser": "root"
}
